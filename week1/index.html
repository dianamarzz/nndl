<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Titanic EDA Dashboard</title>
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- PapaParse for CSV parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    
    <!-- Custom CSS -->
    <style>
        :root {
            --primary-blue: #2c3e50;
            --secondary-blue: #3498db;
            --accent-blue: #5d9cec;
            --light-blue: #ecf0f1;
            --muted-blue: #7f8c8d;
            --dark-blue: #1a252f;
        }
        
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--primary-blue);
        }
        
        .dashboard-header {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
            color: white;
            padding: 2rem 0;
            margin-bottom: 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .card {
            border: none;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.08);
            margin-bottom: 1.5rem;
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .card-header {
            background-color: var(--light-blue);
            border-bottom: 2px solid var(--accent-blue);
            font-weight: 600;
            color: var(--primary-blue);
            padding: 1rem 1.25rem;
        }
        
        .btn-primary {
            background-color: var(--secondary-blue);
            border-color: var(--secondary-blue);
            padding: 0.5rem 2rem;
        }
        
        .btn-primary:hover {
            background-color: var(--primary-blue);
            border-color: var(--primary-blue);
        }
        
        .file-upload-container {
            border: 2px dashed var(--accent-blue);
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
            background-color: rgba(93, 156, 236, 0.05);
        }
        
        .stat-card {
            background: linear-gradient(to right, var(--light-blue), white);
            border-left: 4px solid var(--secondary-blue);
        }
        
        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }
        
        .data-table {
            font-size: 0.85rem;
        }
        
        .data-table th {
            background-color: var(--light-blue);
            position: sticky;
            top: 0;
        }
        
        .insight-card {
            border-left: 5px solid var(--secondary-blue);
            background-color: rgba(52, 152, 219, 0.05);
        }
        
        .factor-highlight {
            background-color: rgba(52, 152, 219, 0.1);
            padding: 1rem;
            border-radius: 8px;
            font-weight: 600;
            color: var(--primary-blue);
        }
        
        .nav-tabs .nav-link.active {
            background-color: var(--light-blue);
            color: var(--primary-blue);
            border-color: var(--accent-blue);
            font-weight: 600;
        }
        
        .loading-spinner {
            display: none;
            text-align: center;
            padding: 2rem;
        }
        
        .footer-note {
            background-color: var(--dark-blue);
            color: white;
            padding: 1.5rem;
            margin-top: 2rem;
            border-radius: 8px;
            font-size: 0.9rem;
        }
        
        @media (max-width: 768px) {
            .chart-container {
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <!-- Dashboard Header -->
    <header class="dashboard-header">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1 class="display-5 fw-bold">ðŸš¢ Titanic EDA Dashboard</h1>
                    <p class="lead mb-0">Interactive Exploratory Data Analysis of the Titanic Dataset</p>
                </div>
                <div class="col-md-4 text-md-end">
                    <div class="mt-3 mt-md-0">
                        <span class="badge bg-light text-primary fs-6">Client-Side Analysis</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Dashboard Container -->
    <div class="container">
        <!-- Section 1: Data Load & Overview -->
        <div class="card" id="dataLoadSection">
            <div class="card-header">
                <h5 class="mb-0">1. Data Load & Overview</h5>
            </div>
            <div class="card-body">
                <div class="file-upload-container mb-4">
                    <h5>Upload Titanic Dataset CSV</h5>
                    <p class="text-muted mb-3">Please upload the <code>Titanic-Dataset.csv</code> file from Kaggle</p>
                    <input type="file" id="csvFile" class="form-control mb-3" accept=".csv">
                    <button id="runEDA" class="btn btn-primary btn-lg">
                        <span id="runButtonText">ðŸš€ Run EDA Analysis</span>
                        <span id="loadingSpinner" class="spinner-border spinner-border-sm ms-2" role="status" aria-hidden="true" style="display: none;"></span>
                    </button>
                </div>
                
                <div id="dataOverview" style="display: none;">
                    <h5>Dataset Overview</h5>
                    <div class="row mb-3">
                        <div class="col-md-3">
                            <div class="card stat-card">
                                <div class="card-body">
                                    <h6 class="card-subtitle mb-1 text-muted">Rows</h6>
                                    <h4 id="rowCount" class="card-title">0</h4>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card stat-card">
                                <div class="card-body">
                                    <h6 class="card-subtitle mb-1 text-muted">Columns</h6>
                                    <h4 id="colCount" class="card-title">0</h4>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card stat-card">
                                <div class="card-body">
                                    <h6 class="card-subtitle mb-1 text-muted">Survival Rate</h6>
                                    <h4 id="survivalRate" class="card-title">0%</h4>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card stat-card">
                                <div class="card-body">
                                    <h6 class="card-subtitle mb-1 text-muted">Complete Cases</h6>
                                    <h4 id="completeCases" class="card-title">0%</h4>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="table-responsive">
                        <h6 class="mb-2">Data Preview (First 10 Rows)</h6>
                        <table class="table table-sm table-hover data-table" id="dataPreview">
                            <thead id="previewHeader"></thead>
                            <tbody id="previewBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 2: Data Types & Missing Values -->
        <div class="card" id="dataTypesSection" style="display: none;">
            <div class="card-header">
                <h5 class="mb-0">2. Data Types & Missing Values</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6>Column Information</h6>
                        <div class="table-responsive">
                            <table class="table table-sm table-hover data-table">
                                <thead>
                                    <tr>
                                        <th>Column</th>
                                        <th>Data Type</th>
                                        <th>Missing Values</th>
                                        <th>Missing %</th>
                                    </tr>
                                </thead>
                                <tbody id="columnInfo"></tbody>
                            </table>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h6>Missing Values Visualization</h6>
                        <div class="chart-container">
                            <canvas id="missingValuesChart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="mt-3">
                    <div class="alert alert-info">
                        <strong>Missing Data Summary:</strong> <span id="missingSummary"></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 3: Distribution Analysis -->
        <div class="card" id="distributionsSection" style="display: none;">
            <div class="card-header">
                <h5 class="mb-0">3. Distribution Analysis</h5>
            </div>
            <div class="card-body">
                <ul class="nav nav-tabs" id="distTab" role="tablist">
                    <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="num-tab" data-bs-toggle="tab" data-bs-target="#num-dist" type="button" role="tab">Numerical</button>
                    </li>
                    <li class="nav-item" role="presentation">
                        <button class="nav-link" id="cat-tab" data-bs-toggle="tab" data-bs-target="#cat-dist" type="button" role="tab">Categorical</button>
                    </li>
                </ul>
                <div class="tab-content p-3 border border-top-0 rounded-bottom">
                    <div class="tab-pane fade show active" id="num-dist" role="tabpanel">
                        <div class="row">
                            <div class="col-md-6">
                                <h6>Age Distribution</h6>
                                <div class="chart-container">
                                    <canvas id="ageDistChart"></canvas>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6>Fare Distribution</h6>
                                <div class="chart-container">
                                    <canvas id="fareDistChart"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-4">
                            <div class="col-md-6">
                                <h6>SibSp Distribution</h6>
                                <div class="chart-container">
                                    <canvas id="sibspDistChart"></canvas>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6>Parch Distribution</h6>
                                <div class="chart-container">
                                    <canvas id="parchDistChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="cat-dist" role="tabpanel">
                        <div class="row">
                            <div class="col-md-6">
                                <h6>Gender Distribution</h6>
                                <div class="chart-container">
                                    <canvas id="sexDistChart"></canvas>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6>Passenger Class Distribution</h6>
                                <div class="chart-container">
                                    <canvas id="pclassDistChart"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-4">
                            <div class="col-md-6">
                                <h6>Embarkation Port Distribution</h6>
                                <div class="chart-container">
                                    <canvas id="embarkedDistChart"></canvas>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <h6>Survival Distribution</h6>
                                <div class="chart-container">
                                    <canvas id="survivedDistChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 4: Outlier Detection -->
        <div class="card" id="outliersSection" style="display: none;">
            <div class="card-header">
                <h5 class="mb-0">4. Outlier Detection</h5>
            </div>
            <div class="card-body">
                <div class="row mb-4">
                    <div class="col-md-6">
                        <div class="card stat-card">
                            <div class="card-body">
                                <h6 class="card-subtitle mb-1 text-muted">Age Outliers</h6>
                                <div class="d-flex justify-content-between align-items-center">
                                    <h4 id="ageOutliers" class="card-title mb-0">0</h4>
                                    <span class="badge bg-info" id="ageOutliersPct">0%</span>
                                </div>
                                <p class="text-muted mt-2 mb-0 fs-7">Using IQR method (Q3 + 1.5Ã—IQR)</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card stat-card">
                            <div class="card-body">
                                <h6 class="card-subtitle mb-1 text-muted">Fare Outliers</h6>
                                <div class="d-flex justify-content-between align-items-center">
                                    <h4 id="fareOutliers" class="card-title mb-0">0</h4>
                                    <span class="badge bg-info" id="fareOutliersPct">0%</span>
                                </div>
                                <p class="text-muted mt-2 mb-0 fs-7">Using IQR method (Q3 + 1.5Ã—IQR)</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <h6>Fare Outliers Box Plot</h6>
                <div class="chart-container" style="height: 350px;">
                    <canvas id="outlierChart"></canvas>
                </div>
                
                <div class="mt-3">
                    <div class="alert alert-warning">
                        <strong>Note:</strong> Outliers can significantly impact statistical analysis and machine learning models. The Fare column shows the most significant outliers, likely representing first-class passengers or special fares.
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 5: Correlation & Pattern Analysis -->
        <div class="card" id="correlationSection" style="display: none;">
            <div class="card-header">
                <h5 class="mb-0">5. Correlation & Pattern Analysis</h5>
            </div>
            <div class="card-body">
                <h6>Correlation Heatmap (Numerical Features)</h6>
                <div class="chart-container" style="height: 400px;">
                    <canvas id="correlationChart"></canvas>
                </div>
                <div class="row mt-4">
                    <div class="col-md-12">
                        <div class="alert alert-info">
                            <strong>Key Correlations:</strong>
                            <ul class="mb-0 mt-2" id="correlationInsights">
                                <!-- Will be populated by JavaScript -->
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 6: Survival Factor Investigation -->
        <div class="card" id="survivalSection" style="display: none;">
            <div class="card-header">
                <h5 class="mb-0">6. Survival Factor Investigation</h5>
            </div>
            <div class="card-body">
                <div class="row mb-4">
                    <div class="col-md-4">
                        <h6>Survival by Gender</h6>
                        <div class="chart-container">
                            <canvas id="survivalSexChart"></canvas>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <h6>Survival by Passenger Class</h6>
                        <div class="chart-container">
                            <canvas id="survivalClassChart"></canvas>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <h6>Survival by Age Group</h6>
                        <div class="chart-container">
                            <canvas id="survivalAgeChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-12">
                        <div class="factor-highlight">
                            <h6>Survival Rate Comparison</h6>
                            <div class="row" id="survivalMetrics">
                                <!-- Will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 7: Key Insights & Conclusion -->
        <div class="card" id="insightsSection" style="display: none;">
            <div class="card-header">
                <h5 class="mb-0">7. Key Insights & Conclusion</h5>
            </div>
            <div class="card-body">
                <div class="insight-card p-4 mb-4">
                    <h5 class="text-primary">Most Important Survival Factor</h5>
                    <div class="display-4 text-center my-4" id="topFactor">-</div>
                    <p class="text-center fs-5" id="factorExplanation"></p>
                </div>
                
                <div class="row">
                    <div class="col-md-6">
                        <h6>Key Insights</h6>
                        <ul class="list-group list-group-flush" id="keyInsights">
                            <!-- Will be populated by JavaScript -->
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6>Recommendations for Predictive Modeling</h6>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">1. Handle missing Age values using imputation (median or predictive modeling)</li>
                            <li class="list-group-item">2. Consider fare outliers as potential first-class passengers</li>
                            <li class="list-group-item">3. Create interaction features (e.g., gender Ã— class)</li>
                            <li class="list-group-item">4. Bin age into meaningful groups (children, adults, elderly)</li>
                            <li class="list-group-item">5. Use embarked port as a categorical feature with one-hot encoding</li>
                        </ul>
                    </div>
                </div>
                
                <div class="mt-4">
                    <div class="alert alert-success">
                        <h6>Conclusion</h6>
                        <p id="conclusionText">Based on the exploratory data analysis, the Titanic dataset reveals clear patterns in survival rates. The analysis provides strong evidence for which factors were most significant in determining passenger survival during the Titanic disaster.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Deployment Note -->
        <div class="footer-note">
            <h6>Deployment Instructions</h6>
            <p class="mb-2">To deploy this dashboard:</p>
            <ol class="mb-0">
                <li>Push these files to a public GitHub repository</li>
                <li>Enable GitHub Pages in repository settings (main branch / root folder)</li>
                <li>Visit your deployment URL: <code>https://&lt;username&gt;.github.io/&lt;repo-name&gt;</code></li>
                <li>For your specific case: Upload to "nndl" repository, "week1" directory</li>
            </ol>
        </div>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Main Application Script -->
    <script src="app.js"></script>
</body>
</html>
